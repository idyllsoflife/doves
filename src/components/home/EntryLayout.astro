---
import BaseLayout from "@components/base/BaseLayout.astro";
import { markdownify } from "@lib/textConverter";
import Button from "@components/common/Button.astro";
import type { HomeEntry } from "@/types";

interface Props {
  entry: HomeEntry;
}

const { entry } = Astro.props;
const { title, content, button } = entry.data;

// ‚îÄ‚îÄ‚îÄ Editable Site Data ‚îÄ‚îÄ‚îÄ
// Change any of the data below to update the homepage content.

const about = {
  paragraphs: [
    "The Doves' Nest is a housing cooperative in Chicago's Uptown neighborhood. We are a group of people who have come together to re-start a tradition of cooperative living that dates back to the 1990s.",
    "Our home is an 1890s house. We share meals, a huge project, and decisions ‚Äî and we're looking for new members to join us.",
  ],
  projectValues: [
    { icon: "üè†", title: "Shared Living", desc: "Cooperative ownership of common spaces and responsibilities" },
    { icon: "üç≤", title: "Cook Cycles", desc: "Members take turns cooking for the house on a rotating schedule" },
    { icon: "üó≥Ô∏è", title: "Democratic", desc: "Decisions made collectively at weekly house meetings" },
    { icon: "üîß", title: "DIY Spirit", desc: "Saturday workdays to maintain and renovate our home together" },
  ],
};

const members = {
  intro: "We're a small group of co-op enthusiasts, committed to building something special together.",
  people: [
    { name: "Kevin", role: "founding member", initial: "D" },
    { name: "Rezac", role: "first membershipped", initial: "R" },
    { name: "Brian", role: "founding member", initial: "K" },
    { name: "Damon", role: "founding member", initial: "B" },
    { name: "Devyn", role: "founding member", initial: "D" },
  ],
};

const avatarColors = ['#6B5B33', '#7A9B6A', '#8B7B53', '#5C7A4E', '#C4A854'];
---

<BaseLayout>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HERO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <section class="section relative overflow-hidden">
    <div class="polka-bg"></div>
    <div class="container">
      <div class="row justify-center">
        <div class="text-center lg:col-8 intersect:animate-fadeUp opacity-0">
          <span class="inline-flex items-center gap-2 font-handwritten text-lg text-sage-dark bg-sage-muted px-4 py-1 rounded-full mb-6">
            ‚ú¶ a housing cooperative ‚ú¶
          </span>
          <h1 class="font-primary !text-olive-dark mb-4" style="font-size: clamp(3rem, 8vw, 5.5rem); line-height: 1.08; letter-spacing: -1.5px;">
            The Doves'<br/><span class="italic text-sage">Nest</span>
          </h1>
          <p set:html={markdownify(content)} class="mb-8 text-olive-light max-w-lg mx-auto text-lg leading-relaxed" />
          <div class="inline-flex gap-4 flex-wrap justify-center">
            {button && (
              <a href={button.link} class="btn-dove btn-primary">{button.label}</a>
            )}
            <a href="#about" class="btn-dove btn-outline">Our Story</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ABOUT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <section class="section-sm relative" id="about">
    <div class="polka-bg-sage"></div>
    <div class="container">
      <div class="row g-5">
        <div class="lg:col-6 intersect:animate-fadeRight opacity-0">
          <p class="section-label">~ who we are ~</p>
          <h2 class="h3 mb-4">A home grown together</h2>
          {about.paragraphs.map((p) => <p class="mb-4 text-txt-light dark:text-darkmode-txt-light leading-relaxed">{p}</p>)}
        </div>
        <div class="lg:col-6 intersect:animate-fadeLeft opacity-0">
          <div class="window-card">
            <div class="window-card-bar">
              <span class="window-dot dot-red"></span>
              <span class="window-dot dot-yellow"></span>
              <span class="window-dot dot-green"></span>
              <span class="window-title">the project</span>
            </div>
            <div class="window-card-body">
              {about.projectValues.map((v) => (
                <div class="flex items-start gap-3 mb-4 last:mb-0">
                  <span class="flex-shrink-0 w-9 h-9 bg-sage rounded-full flex items-center justify-center text-white text-sm">{v.icon}</span>
                  <div>
                    <strong class="text-olive-dark">{v.title}</strong><br/>
                    <span class="text-olive-light text-sm">{v.desc}</span>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MEMBERS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <section class="section-sm relative" id="members">
    <div class="polka-bg"></div>
    <div class="container">
      <div class="text-center mb-8 intersect:animate-fadeUp opacity-0">
        <p class="section-label">~ the flock ~</p>
        <h2 class="h3 mb-2">Meet the Doves</h2>
        <p class="text-olive-light max-w-lg mx-auto">{members.intro}</p>
      </div>
      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4">
        {members.people.map((member, i) => (
          <div class="window-card intersect:animate-fadeUp opacity-0" style={`animation-delay: ${i * 80}ms`}>
            <div class="window-card-bar">
              <span class="window-dot dot-red"></span>
              <span class="window-dot dot-yellow"></span>
              <span class="window-dot dot-green"></span>
            </div>
            <div class="window-card-body text-center">
              <div class="member-avatar" style={`background: ${avatarColors[i % avatarColors.length]}`}>{member.initial}</div>
              <div class="font-primary font-semibold text-olive-dark text-lg">{member.name}</div>
              <div class="font-handwritten text-sage text-base">{member.role}</div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CTA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <section class="section relative overflow-hidden bg-olive-dark rounded-lg mx-4 lg:mx-8 mb-4" id="contact">
    <div class="container intersect:animate-fadeUp opacity-0" style="text-align: center;">
      <p class="section-label !text-sage-light">~ come say hello ~</p>
      <h2 class="h3 !text-cream max-w-xl mx-auto mb-2">Want to build something together?</h2>
      <p class="text-olive-muted max-w-lg mx-auto mb-6 leading-relaxed">
        Whether you're curious about cooperative housing, want to help out, or are interested in joining our community, we'd love to hear from you.
      </p>
      <a href="mailto:dovesnestchicago@gmail.com" class="btn-dove btn-sage">Get in Touch</a>
      <br/>
      <a href="mailto:dovesnestchicago@gmail.com" class="inline-block font-handwritten text-xl text-sage-light mt-4">
        dovesnestchicago@gmail.com
      </a>
    </div>
  </section>

</BaseLayout>
